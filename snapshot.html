<!DOCTYPE html><html lang="nl"><head>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta content="text/html; charset=utf-8" http-equiv="content-type">
<meta name="generator" content="ReSpec 35.4.1">
<style>
dfn{cursor:pointer}
.dfn-panel{position:absolute;z-index:35;min-width:300px;max-width:500px;padding:.5em .75em;margin-top:.6em;font-family:"Helvetica Neue",sans-serif;font-size:small;background:#fff;background:var(--indextable-hover-bg,#fff);color:#000;color:var(--text,#000);box-shadow:0 1em 3em -.4em rgba(0,0,0,.3),0 0 1px 1px rgba(0,0,0,.05);box-shadow:0 1em 3em -.4em var(--tocsidebar-shadow,rgba(0,0,0,.3)),0 0 1px 1px var(--tocsidebar-shadow,rgba(0,0,0,.05));border-radius:2px}
.dfn-panel:not(.docked)>.caret{position:absolute;top:-9px}
.dfn-panel:not(.docked)>.caret::after,.dfn-panel:not(.docked)>.caret::before{content:"";position:absolute;border:10px solid transparent;border-top:0;border-bottom:10px solid #fff;border-bottom-color:var(--indextable-hover-bg,#fff);top:0}
.dfn-panel:not(.docked)>.caret::before{border-bottom:9px solid #a2a9b1;border-bottom-color:var(--indextable-hover-bg,#a2a9b1)}
.dfn-panel *{margin:0}
.dfn-panel b{display:block;color:#000;color:var(--text,#000);margin-top:.25em}
.dfn-panel ul a[href]{color:#333;color:var(--text,#333)}
.dfn-panel>div{display:flex}
.dfn-panel a.self-link{font-weight:700;margin-right:auto}
.dfn-panel .marker{padding:.1em;margin-left:.5em;border-radius:.2em;text-align:center;white-space:nowrap;font-size:90%;color:#040b1c}
.dfn-panel .marker.dfn-exported{background:#d1edfd;box-shadow:0 0 0 .125em #1ca5f940}
.dfn-panel .marker.idl-block{background:#8ccbf2;box-shadow:0 0 0 .125em #0670b161}
.dfn-panel a:not(:hover){text-decoration:none!important;border-bottom:none!important}
.dfn-panel a[href]:hover{border-bottom-width:1px}
.dfn-panel ul{padding:0}
.dfn-panel li{margin-left:1em}
.dfn-panel.docked{position:fixed;left:.5em;top:unset;bottom:2em;margin:0 auto;max-width:calc(100vw - .75em * 2 - .5em - .2em * 2);max-height:30vh;overflow:auto}
</style>
  
  
  
  
  
  
  
<script>document.title = respecConfig.title</script>
<title>Handreiking "Hoe bouw ik een register" 0.0.1</title>
  
<title>Default</title>
  
<link rel="shortcut icon" type="image/x-icon" href="https://website-digilab-overheid-nl-research-uit-betrouw-e1f39021ce924c.gitlab.io/img/ubblogo.png">
  
  
  
<style>

	.figure img,    .sidefigure img,    figure img,
	.figure object, .sidefigure object, figure object {
		max-width: none !important; 
	}
	h7 {
		font-style: italic;
	}
	h7::after{
		content: "\a";
		white-space: pre;
	}
 	h7::before{
		content: "\a";
		white-space: pre;
	}
  
</style>

<style id="respec-mainstyle">
@keyframes pop{
0%{transform:scale(1,1)}
25%{transform:scale(1.25,1.25);opacity:.75}
100%{transform:scale(1,1)}
}
a.internalDFN{color:inherit;border-bottom:1px solid #99c;text-decoration:none}
a.externalDFN{color:inherit;border-bottom:1px dotted #ccc;text-decoration:none}
a.bibref{text-decoration:none}
.respec-offending-element:target{animation:pop .25s ease-in-out 0s 1}
.respec-offending-element,a[href].respec-offending-element{text-decoration:red wavy underline}
@supports not (text-decoration:red wavy underline){
.respec-offending-element:not(pre){display:inline-block}
.respec-offending-element{background:url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x}
}
#references :target{background:#eaf3ff;animation:pop .4s ease-in-out 0s 1}
cite .bibref{font-style:italic}
a[href].orcid{padding-left:4px;padding-right:4px}
a[href].orcid>svg{margin-bottom:-2px}
ol.tof,ul.tof{list-style:none outside none}
.caption{margin-top:.5em;font-style:italic}
#issue-summary>ul{column-count:2}
#issue-summary li{list-style:none;display:inline-block}
details.respec-tests-details{margin-left:1em;display:inline-block;vertical-align:top}
details.respec-tests-details>*{padding-right:2em}
details.respec-tests-details[open]{z-index:999999;position:absolute;border:thin solid #cad3e2;border-radius:.3em;background-color:#fff;padding-bottom:.5em}
details.respec-tests-details[open]>summary{border-bottom:thin solid #cad3e2;padding-left:1em;margin-bottom:1em;line-height:2em}
details.respec-tests-details>ul{width:100%;margin-top:-.3em}
details.respec-tests-details>li{padding-left:1em}
.self-link:hover{opacity:1;text-decoration:none;background-color:transparent}
aside.example .marker>a.self-link{color:inherit}
.header-wrapper{display:flex;align-items:baseline;position:relative;left:-.5em}
:is(h2,h3,h4,h5,h6):not(#toch2)+a.self-link{color:inherit;order:-1;position:relative;left:-.7em;font-size:1rem;opacity:.5}
:is(h2,h3,h4,h5,h6)+a.self-link::before{content:"§";text-decoration:none;color:var(--heading-text)}
:is(h2,h3)+a.self-link{top:-.2em}
:is(h4,h5,h6)+a.self-link::before{color:#000}
@media (max-width:767px){
dd{margin-left:0}
}
@media print{
.removeOnSave{display:none}
}
</style>
<style id="respec-nlgov">
img.license{float:left;padding-right:5px;background:0 0}
</style>
<meta name="color-scheme" content="light">
<style>
ul.index{columns:30ch;column-gap:1.5em}
ul.index li{list-style:inherit}
ul.index li span{color:inherit;cursor:pointer;white-space:normal}
#index-defined-here ul.index li{font-size:.9rem}
ul.index code{color:inherit}
#index-defined-here .print-only{display:none}
@media print{
#index-defined-here .print-only{display:initial}
}
</style>
<meta name="description" content="In dit deel van het document kan een samenvatting of een leeswijzwer worden opgenomen">
<script id="initialUserConfig" type="application/json">{
  "shortName": "Respec-template",
  "pubDomain": "pr",
  "specType": "PR",
  "specStatus": "IO",
  "publishDate": "2025-10-13",
  "publishVersion": "0.0.1",
  "title": "Handreiking \"Hoe bouw ik een register\"",
  "subtitle": "Richtlijnen en adviezen voor het bouwen van een capabel register",
  "content": {
    "mermaid": "",
    "ch01": "informative",
    "ch02": ""
  },
  "authors": [
    {
      "name": "Marc van Andel",
      "company": "Kadaster",
      "companyURL": "https://kadaster.nl"
    },
    {
      "name": "Ivo Hendriks",
      "company": "VNG Realisatie",
      "companyURL": "https://vng.nl/artikelen/vng-realisatie"
    },
    {
      "name": "Jeanot Bijpost",
      "company": "VNG Realisatie",
      "companyURL": "https://vng.nl/artikelen/vng-realisatie"
    },
    {
      "name": "Johan Boer",
      "company": "VNG Realisatie",
      "companyURL": "https://vng.nl/artikelen/vng-realisatie"
    },
    {
      "name": "Roel Harbers",
      "company": "Uit betrouwbare bron",
      "companyURL": "https://uitbetrouwbarebron.nl"
    },
    {
      "name": "Thom Bogers",
      "company": "Uit betrouwbare bron",
      "companyURL": "https://uitbetrouwbarebron.nl"
    },
    {
      "name": "Boris Bonsel",
      "company": "VNG Realisatie",
      "companyURL": "https://vng.nl/artikelen/vng-realisatie"
    }
  ],
  "editors": [
    {
      "name": "Marc van Andel",
      "company": "Kadaster",
      "companyURL": "https://kadaster.nl"
    },
    {
      "name": "Ivo Hendriks",
      "company": "VNG Realisatie",
      "companyURL": "https://vng.nl/artikelen/vng-realisatie"
    }
  ],
  "gitlab": "https://gitlab.com/Uitbetrouwbarebron",
  "alternateFormats": [
    {
      "label": "pdf",
      "uri": "handreiking-register"
    }
  ],
  "localBiblio": {
    "MIM": {
      "href": "https://docs.geostandaarden.nl/mim/mim/",
      "publisher": "Geonovum",
      "title": "MIM - Metamodel Informatie Modellering",
      "date": "Oktober 2023",
      "rawDate": "2023"
    },
    "SemVer": {
      "href": "https://semver.org/lang/nl/",
      "title": "Semantisch Versioneren 2.0.0",
      "date": "December 19, 2023",
      "rawDate": "2023"
    }
  }
}</script>
<link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2021/base.css"></head>

<body><h1 id="title" class="title">Handreiking "Hoe bouw ik een register" 0.0.1</h1>
  <section id="abstract" class="introductory"><h2>Samenvatting</h2><p>In dit deel van het document kan een samenvatting of een leeswijzwer worden opgenomen</p>
<ul>
<li><p>Je kan bijvoorbeeld hoofdstuk wat toelichten.</p>
</li>
<li><p>En dan hier over Hoofdstuk 2 iets toelichten </p>
</li>
<li><p>Uiteraard zou je hier ook een toelichting op kunnen nemen over hoe dit document gebruikt kan worden. Bijvoorbeeld dat het geen "menu" of "kookboek" voor een capabel register is, maar dat het een aantal onderwerpen beschrijft en daarbij overwegingen meegeeft om uiteindelijk tot weloverwogen keuzes te kunnen komen.</p>
</li>
</ul>
</section>
  <section id="sotd"></section><nav id="toc"><h2 class="introductory" id="inhoudsopgave">Inhoudsopgave</h2><ol class="toc"><li class="tocline"><a class="tocxref" href="#abstract">Samenvatting</a></li><li class="tocline"><a class="tocxref" href="#command"><bdi class="secno">1. </bdi>Command</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#twijfel-en-dry-run"><bdi class="secno">1.1 </bdi>Twijfel en dry-run</a></li><li class="tocline"><a class="tocxref" href="#transacties"><bdi class="secno">1.2 </bdi>Transacties</a></li></ol></li><li class="tocline"><a class="tocxref" href="#grenzen"><bdi class="secno">2. </bdi>De omgeving en grenzen van een register</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#autonomie-en-gemeenschappelijkheid"><bdi class="secno">2.1 </bdi>Autonomie en gemeenschappelijkheid</a></li><li class="tocline"><a class="tocxref" href="#registergrenzen-domein"><bdi class="secno">2.2 </bdi>Registergrenzen: domein</a></li><li class="tocline"><a class="tocxref" href="#bounded-context"><bdi class="secno">2.3 </bdi>Bounded context</a></li><li class="tocline"><a class="tocxref" href="#wellbounded-registers"><bdi class="secno">2.4 </bdi>'Wellbounded' registers</a></li><li class="tocline"><a class="tocxref" href="#bepalen-van-de-bounds"><bdi class="secno">2.5 </bdi>Bepalen van de 'bounds'</a></li><li class="tocline"><a class="tocxref" href="#uitvoeringsproces-op-hoofdlijnen"><bdi class="secno">2.6 </bdi>Uitvoeringsproces op hoofdlijnen</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#het-domeinmodel-als-kern"><bdi class="secno">2.6.1 </bdi>Het domeinmodel als kern</a></li><li class="tocline"><a class="tocxref" href="#signaal-ontvangen-en-interpreteren"><bdi class="secno">2.6.2 </bdi>Signaal ontvangen en interpreteren</a></li><li class="tocline"><a class="tocxref" href="#taken-definieren-en-uitvoeren"><bdi class="secno">2.6.3 </bdi>Taken definiëren en uitvoeren</a></li><li class="tocline"><a class="tocxref" href="#gevolgen-vastleggen"><bdi class="secno">2.6.4 </bdi>Gevolgen vastleggen</a></li><li class="tocline"><a class="tocxref" href="#informatie-beschikbaar-stellen"><bdi class="secno">2.6.5 </bdi>Informatie beschikbaar stellen</a></li></ol></li><li class="tocline"><a class="tocxref" href="#applicatieve-ondersteuning-met-het-register"><bdi class="secno">2.7 </bdi>Applicatieve ondersteuning met het register</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#van-proces-naar-applicatie"><bdi class="secno">2.7.1 </bdi>Van proces naar applicatie</a></li><li class="tocline"><a class="tocxref" href="#notificatie-command-signaalverwerking"><bdi class="secno">2.7.2 </bdi>Notificatie → Command (Signaalverwerking)</a></li><li class="tocline"><a class="tocxref" href="#command-effecten-taakuitvoering"><bdi class="secno">2.7.3 </bdi>Command → Effecten (Taakuitvoering)</a></li><li class="tocline"><a class="tocxref" href="#effecten-projecties-presentatieopmaking"><bdi class="secno">2.7.4 </bdi>Effecten → Projecties (Presentatieopmaking)</a></li><li class="tocline"><a class="tocxref" href="#register-commands-effecten-projecties"><bdi class="secno">2.7.5 </bdi>Register = Commands + Effecten + Projecties</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#assembling"><bdi class="secno">3. </bdi>Samenstellen Respec documentatie in GitHub (under construction)</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#door-administrator-uit-te-voeren-acties"><bdi class="secno">3.1 </bdi>Door administrator uit te voeren acties</a></li><li class="tocline"><a class="tocxref" href="#door-repository-eigenaar-uit-te-voeren-acties"><bdi class="secno">3.2 </bdi>Door repository eigenaar uit te voeren acties</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#imvertor-resultaat-plaatsen"><bdi class="secno">3.2.1 </bdi>Imvertor resultaat plaatsen</a></li><li class="tocline"><a class="tocxref" href="#de-content-van-het-respec-document-aanpassen"><bdi class="secno">3.2.2 </bdi>De content van het Respec document aanpassen</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#content-methode"><bdi class="secno">3.2.2.1 </bdi>Content methode</a></li><li class="tocline"><a class="tocxref" href="#sectie-methode"><bdi class="secno">3.2.2.2 </bdi>Sectie methode</a></li><li class="tocline"><a class="tocxref" href="#secties-met-id-attribuutwaarde-sotd"><bdi class="secno">3.2.2.3 </bdi>Secties met 'id' attribuutwaarde 'sotd'</a></li><li class="tocline"><a class="tocxref" href="#secties-met-id-attribuutwaarde-abstract"><bdi class="secno">3.2.2.4 </bdi>Secties met 'id' attribuutwaarde 'abstract'</a></li><li class="tocline"><a class="tocxref" href="#secties-met-id-attribuutwaarde-conformance"><bdi class="secno">3.2.2.5 </bdi>Secties met 'id' attribuutwaarde 'conformance'</a></li><li class="tocline"><a class="tocxref" href="#secties-met-id-attribuutwaarde-tof"><bdi class="secno">3.2.2.6 </bdi>Secties met 'id' attribuutwaarde 'tof'</a></li><li class="tocline"><a class="tocxref" href="#secties-met-id-attribuutwaarde-index"><bdi class="secno">3.2.2.7 </bdi>Secties met 'id' attribuutwaarde 'index'</a></li><li class="tocline"><a class="tocxref" href="#secties-met-een-andere-id-attribuutwaarde"><bdi class="secno">3.2.2.8 </bdi>Secties met een andere 'id' attribuutwaarde</a></li><li class="tocline"><a class="tocxref" href="#secties-met-data-include-format-html"><bdi class="secno">3.2.2.9 </bdi>Secties met <code>data-include-format="html"</code></a></li><li class="tocline"><a class="tocxref" href="#andersoortige-secties"><bdi class="secno">3.2.2.10 </bdi>Andersoortige secties</a></li></ol></li><li class="tocline"><a class="tocxref" href="#bijlage-n-referenties"><bdi class="secno">3.2.3 </bdi>Bijlage N Referenties</a></li><li class="tocline"><a class="tocxref" href="#images-in-de-documentatie"><bdi class="secno">3.2.4 </bdi>Images in de documentatie</a></li></ol></li><li class="tocline"><a class="tocxref" href="#lokale-respec-configuratie-properties"><bdi class="secno">3.3 </bdi>Lokale Respec configuratie properties</a></li><li class="tocline"><a class="tocxref" href="#functie-respec-configuratie-properties"><bdi class="secno">3.4 </bdi>Functie Respec configuratie properties</a></li></ol></li><li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">4. </bdi>Conformiteit</a></li><li class="tocline"><a class="tocxref" href="#index"><bdi class="secno">A. </bdi>Index</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#index-defined-here"><bdi class="secno">A.1 </bdi>Begrippen gedefinieerd door deze specificatie</a></li><li class="tocline"><a class="tocxref" href="#index-defined-elsewhere"><bdi class="secno">A.2 </bdi>Begrippen gedefinieerd door verwijzing</a></li></ol></li><li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">B. </bdi>Referenties</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#normatieve-referenties"><bdi class="secno">B.1 </bdi>Normatieve referenties</a></li></ol></li></ol></nav>
  <section id="command"><h2 id="x1-command"><bdi class="secno">1. </bdi>Command</h2>
<ul>
<li>Werkdefinitie: een command is een opdracht aan het register, aangeboden met de intentie daarin een verandering aan te brengen.</li>
<li>Aangepast vanwege een test of twee</li>
</ul>
<section id="twijfel-en-dry-run"><h3 id="x1-1-twijfel-en-dry-run"><bdi class="secno">1.1 </bdi>Twijfel en dry-run</h3>
<ul>
<li><p>Aan gegevens in een capabel register kan getwijfeld worden. Dit heeft gevolgen voor het geautomatiseerd verwerken van commando's. Systemen kunnen immers niet (altijd) (geautomatiseerd) commando's verwerken als bij het beoordelen daarvan betwijfelde gegevens betrokken zijn. Dit is niet per se een registervraagstuk. Wel een vraagstuk dat zich op dit moment veelal buiten registers - en wel binnen procesondersteunende systemen - afspeelt.</p>
</li>
<li><p>Willen we registers en degenen die ze bedienen (beter) laten werken met betwijfelde gegevens, dan is één oplossing het aanbieden van interfaces die het mogelijk maken daarover met het register te converseren. Wanneer sprake is van twijfel over de juistheid van relevante gegevens, kan in zo'n conversatie van verwerkingsregels worden afgeweken. Mits beargumenteerd en voorzien van instructies over hoe en waar specifieke regels wel of niet moeten worden toegepast, wordt een waarschuwing of error zo dus 'overrulebaar'.</p>
</li>
<li><p>Hieraan gerelateerd is het idee van 'dry run-functionaliteit'. Dit is een query die antwoord geeft op de vraag of een command verwerkt kan worden zonder een poging te doen dat command daadwerkelijk te verwerken.  Om verschillende uitkomsten tussen 'dry run' en daadwerkelijke registratie te voorkomen, ligt het - ondanks scheiding tussen command en query (CQRS) - voor de hand deze query te laten beantwoorden aan de commandkant van het register, waar immers ook de daadwerkelijke verwerking van het command moet plaatsvinden.</p>
</li>
</ul>
</section><section id="transacties"><h3 id="x1-2-transacties"><bdi class="secno">1.2 </bdi>Transacties</h3>
<p>Conventie (en aanbeveling?):</p>
<ul>
<li>Command is een opdracht die één transactie verwerkt moet worden.</li>
</ul>
<p>...maar: business bepaalt in eerste instantie transactiegrenzen, commands sluiten daarbij aan.</p>
<p>...maar: digitaal werken kan innovatie in business mogelijk maken. Sneller (en sequentieel) verwerken van wijzigingen in 'echte' wereld kan bijvoorbeeld consistentiewaarborgen van aggregaatniveau naar registerniveau (dat daardoor in feite zelf aggregaat wordt?) brengen.</p>
</section></section>
  <section id="grenzen"><h2 id="x2-de-omgeving-en-grenzen-van-een-register"><bdi class="secno">2. </bdi>De omgeving en grenzen van een register</h2>
<p><strong>Een register heeft betekenis door het proces dat het ondersteunt.</strong> Om te begrijpen waar de
grenzen liggen, beginnen we bij het <a href="https://www.gemmaonline.nl/wiki/Common_Ground_vijflaagsmodel">vijflaagsmodel van Common
Ground</a>:</p>
<table>
<thead>
<tr>
<th align="center">Laag</th>
<th>Naam</th>
<th>Wat</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>5</strong></td>
<td><strong>Interactie</strong></td>
<td>Gebruikersinterfaces, kanalen en toegang</td>
</tr>
<tr>
<td align="center"><strong>4</strong></td>
<td><strong>Procesinrichting</strong></td>
<td>Bedrijfsprocessen, bedrijfsregels en informatiestructuren</td>
</tr>
<tr>
<td align="center"><strong>3</strong></td>
<td><strong>Connectiviteit</strong></td>
<td>Veilige verbindingen</td>
</tr>
<tr>
<td align="center"><strong>2</strong></td>
<td><strong>Diensten</strong></td>
<td>Datadiensten, APIs en services</td>
</tr>
<tr>
<td align="center"><strong>1</strong></td>
<td><strong>Databronnen</strong></td>
<td>Registers, bijhouding en vastlegging</td>
</tr>
<tr>
<td align="center">(<strong>0</strong></td>
<td><strong>Infrastructuur</strong></td>
<td>Hardware en infrastructuur)</td>
</tr>
</tbody></table>
<p>Een register bevindt zich in laag 1 (databronnen) en laag 2 (diensten). Een register sluit aan bij
laag 4 (procesinrichting) door de <strong>informatiestructuren</strong> van het proces: de conceptuele modellen
die beschrijven welke informatie het proces nodig heeft en produceert.</p>
<section id="autonomie-en-gemeenschappelijkheid"><h3 id="x2-1-autonomie-en-gemeenschappelijkheid"><bdi class="secno">2.1 </bdi>Autonomie en gemeenschappelijkheid</h3>
<p>Binnen <a href="https://commonground.nl/">Common Ground</a> ligt de <strong>autonomie van gemeenten</strong> bij de
interactielaag (hoe burgers worden bediend) en de procesbesturing (hoe het werk wordt
georganiseerd). Elke gemeente kan eigen keuzes maken in werkwijze en gebruikersinteractie.</p>
<p>De <strong><em>common ground</em></strong> - wat gemeenschappelijk is - ligt bij het domeinmodel: welke acties mogelijk
zijn binnen een domein en welke gevolgen deze hebben. Dit zorgt voor interoperabiliteit terwijl
gemeenten hun autonomie behouden.</p>
<p>Gemeenten zijn hier gebruikt als voorbeeld, want dit geldt voor alle organisaties waar autonomie en
gemeenschappelijkheid een rol spelen, oftewel een gedeeld domein betreffen.</p>
</section><section id="registergrenzen-domein"><h3 id="x2-2-registergrenzen-domein"><bdi class="secno">2.2 </bdi>Registergrenzen: domein</h3>
<p>Een register is een verzameling geordende informatie. De grenzen van de verzameling worden net als
de betekenis en samenhang van de in het register opgeslagen informatie bepaald vanuit het <strong>domein</strong>
dat voor het register verantwoordelijk is. Anders dan in de
<a href="https://nl.wikipedia.org/wiki/Domein_(wiskunde)">wiskunde</a> kunnen we voor registers niet precies
aangeven waar het ene domein ophoudt en het volgende begint. Analoog aan de definitie van
<cite><a class="bibref" data-link-type="biblio" href="#bib-domain-driven-design#the-blue-book">Eric Evans in de context van Domain Driven Design</a></cite> beschouwen
we een domein daarom als "een sfeer van kennis, invloed of activiteit". Deze definitie veronderstelt
een zekere mate van samenhang. Tegelijkertijd kan het binnen één domein voorkomen dat:</p>
<ul>
<li>dezelfde concepten verschillend geïnterpreteerd worden,</li>
<li>regels en gedrag niet consistent zijn, en</li>
<li>bedrijfsprocessen niet op elkaar zijn afgestemd.</li>
</ul>
<p>Voor wie zoekt naar aanknopingpunten over welke informatie binnen 'hoort' binnen een te ontwerpen
register en welke buiten de registergrenzen zou moeten vallen, biedt het denken in 'sferen'
onvoldoende aanknopingspunten. Daarom introduceren we <strong>bounded context</strong> als begrenzend begrip. Ook
dit concept is ontleend aan [<cite><a class="bibref respec-offending-element" data-link-type="biblio" href="#bib-domain-driven-design" title="Reference &quot;[domain-driven-design]&quot; not found." id="respec-offender-reference-domain-driven-design-not-found">domain-driven-design</a></cite>].</p>
</section><section id="bounded-context"><h3 id="x2-3-bounded-context"><bdi class="secno">2.3 </bdi>Bounded context</h3>
<p>Binnen een domein kunnen meerdere subdomeinen of taakgebieden bestaan. Daarbij horen
verantwoordelijkheden, die zijn toegekend aan specifieke teams, afdelingen of bedrijfseenheden. Zij
worden ondersteund door eigen semantiek, processen en regels. Deze zaken kunnen worden beschreven in
een <strong>model</strong>: een systeem van abstracties dat beschrijft hoe men vanuit een taakgebied naar de
wereld kijkt en reageert op veranderingen in de buitenwereld. Zo'n model is beschreven in
<strong>gemeenschappelijke taal</strong> die binnen het hele taakgebied begrepen wordt. Model en taal beschrijven
dus een voor betrokkenen herkenbare 'blauwdruk' van het taakgebied, die (onder andere) de basis kan
vormen voor het ontwerp van een register. Een in gemeenschappelijke taal ondubbelzinnig en
samenhangend gemodelleerd taakgebied noemen we een '<strong>bounded context</strong>'.</p>
<p>Het belang van het erkennen van bounded contexten wordt door Eric Evans in
<cite><a class="bibref" data-link-type="biblio" href="#bib-domain-driven-design#the-blue-book">'the Blue Book'</a></cite> als volgt beschreven:</p>
<blockquote>
<p>"A bounded context delimits the applicability of a particular model so that team members have a
clear and shared understanding of what has to be consistent and how it relates to other contexts.
Within that context, work to keep the model logically unified, but do not worry about applicability
outside those bounds. In other contexts, other models apply, with differences in terminology, in
concepts and rules, and in dialects of the ubiquitous language <em>[red. gemeenschappelijke taal]</em>. By
drawing an explicit boundary, you can keep the model pure, and therefore potent, where it is
applicable. At the same time, you avoid confusion when shifting your attention to other contexts.
Integration across the boundaries necessarily will involve some translation, which you can analyze
explicitly."</p>
</blockquote>
<p>Uit het bovenstaande blijkt dat de ambiguïteiten die we op domeinniveau nog konden tegenkomen binnen
een bounded context (idealiter) verdwijnen. Hier geldt (zoveel mogelijk) dat:</p>
<ul>
<li>dezelfde concepten eenduidig geïnterpreteerd worden (op basis van gemeenschappelijke taal),</li>
<li>regels en gedrag consistent zijn, en</li>
<li>bedrijfsprocessen op elkaar aansluiten.</li>
</ul>
</section><section id="wellbounded-registers"><h3 id="x2-4-wellbounded-registers"><bdi class="secno">2.4 </bdi>'Wellbounded' registers</h3>
<p>Bestaande registers bestrijken vaak meerdere bounded contexten. Zo zou je bijvoorbeeld binnen de
Basisregistratie Personen (BRP) bijgehouden informatie over verblijfplaats, verblijfsrecht,
kiesrecht en reisdocumenten ieder als 'eigen' bounded context kunnen beschouwen. Als je dat
onderschrijft en op basis daarvan nieuwe registers zou gaan ontwerpen en ontwikkelen, loop je tegen
een aantal (nieuwe) problemen aan:</p>
<ul>
<li><strong>Integratiecomplexiteit</strong> (met name ten opzichte van registers met een 'breder' bereik).
Registers moeten worden verbonden middels API's, events of gegevenssynchronisatie.</li>
<li><strong>Hoge initiële leercurve.</strong> Ontwerp en ontwikkeling van registers vereist diepgaande
domeinkennis.</li>
<li><strong>Lagere ontwikkelsnelheid.</strong> Opdoen van domeinkennis en omzetten daarvan naar modellen en code
vraagt tijd.</li>
</ul>
<p>Tegelijkertijd worden aan overheidsregisters bijzondere eisen gesteld, onder meer als het gaat om
kwaliteit en betrouwbaarheid. Onderstaande voordelen van het koppelen van registers aan een (of één)
bounded context ondersteunen deze eisen, en wegen wat ons betreft zwaarder dan de nadelen:</p>
<ul>
<li><strong>Duidelijkheid</strong>. Registers omvatten ondubbelzinnige terminologie en logica.</li>
<li><strong>Consistentie</strong>. Registers omvatten logisch consistente set regels en modellen.</li>
<li><strong>Autonomie</strong>. Registers in verschillende bounded contexten kunnen onafhankelijk van elkaar werken
en (door)ontwikkeld worden.</li>
</ul>
<p>Daarom doen we de volgende aanbevelingen voor het begrenzen van registers:</p>
<ol>
<li>Een register valt samen met een (en één) bounded context, en dus</li>
<li>bepalen de bijhoudingsverantwoordelijke(n) de registergrenzen</li>
</ol>
</section><section id="bepalen-van-de-bounds"><h3 id="x2-5-bepalen-van-de-bounds"><bdi class="secno">2.5 </bdi>Bepalen van de 'bounds'</h3>
<p>In de praktijk laten de 'bounds' van een context zich niet altijd gemakkelijk herkennen en
afbakenen. Bovendien kunnen bounded contexten onder invloed van impliciete of uitgesproken belangen
worden 'opgerekt' of juist verkleind. In algemene zin is moeilijk te zeggen wanneer voor een
register de 'ideale' bounded context is gevonden. Wel zijn enkele aanwijzingen voor een te ruime of
te krappe afbakening te geven. Deze zijn hieronder beschreven.</p>
<p>Indicatoren en symptomen (van sterk naar zwakker) voor een te ruime bounded context:</p>
<ol>
<li><strong>Gebrek aan gemeenschappelijke taal.</strong> Er is discussie over concepten en betekenis, betrokkenen
hanteren verschillend jargon.</li>
<li><strong>Regels en gedrag niet in samenhang te brengen.</strong> Het lukt niet tot een samenhangend model te
komen.</li>
<li><strong>Afwijkende werkwijze(n).</strong> Bedrijfsprodcessen zijn niet te verenigen.</li>
<li><strong>Ontwerp-/owikkeltraject heeft onwenselijke overhead.</strong> Het ontwerp-/ontwikkelteam is te groot
(geworden).</li>
<li><strong>(Vermijdbare) overschrijding van team- en/of organisatiegrenzen.</strong> Conflict tussen eigenaren
en/of verantwoordelijken.</li>
<li><strong>Registeronderdelen vereisen verschillende opslag- en/of integratietechniek.</strong> Niet-verenigbare
technische vereisten.</li>
</ol>
<p>Indicatoren en symptomen (van sterk naar zwakker) voor een te krappe bounded context:</p>
<ol>
<li><strong>Registeroverstijgende consistentiewaarborgen vereist.</strong>
<a href="https://www.baeldung.com/cs/saga-pattern-microservices">Saga's</a> zijn nodig om transacties
gedistribueerd af te handelen.</li>
<li><strong>Model beschrijft domein zonder zelfstandig bestaansrecht.</strong> Gegevens in een register hebben
‘los’ geen enkel bestaansrecht en zijn niet te generaliseren voor gebruik in andere domeinen.</li>
</ol>
</section><section id="uitvoeringsproces-op-hoofdlijnen"><h3 id="x2-6-uitvoeringsproces-op-hoofdlijnen"><bdi class="secno">2.6 </bdi>Uitvoeringsproces op hoofdlijnen</h3>
<p>Het uitvoeringsproces binnen een domein volgt een herkenbaar patroon. Door dit patroon te begrijpen,
wordt duidelijk waar het register precies bijdraagt en waar de grenzen liggen.</p>
<p>// <strong>TODO</strong> Vereenvoudigd plaatje van een administratief uitvoeringsproces (process flow plaatje?):
Signaal -&gt; Taak -&gt; Gevolg -&gt; Presentatie</p>
<p><strong>Stap 1: Signaal ontvangen</strong> Een proces start altijd met een signaal - een melding dat er iets is
gebeurd wat aandacht vraagt. Dit signaal kan van buiten het domein komen (bijvoorbeeld een melding
van een burger) of van binnen (bijvoorbeeld een (automatische) controle die iets detecteert).</p>
<p><strong>Stap 2: Taken creëren</strong> Het proces beoordeelt het signaal en bepaalt welke acties nodig zijn. Deze
acties worden vastgelegd als taken. Een signaal kan leiden tot één taak, meerdere taken, of soms
geen taken als geen actie nodig is.</p>
<p><strong>Stap 3: Taken uitvoeren</strong> Elke taak wordt uitgevoerd volgens de regels van het domein. Dit kan
handmatige verificatie inhouden, automatische berekeningen, of andere domeinspecifieke activiteiten.</p>
<p><strong>Stap 4: Gevolgen vastleggen</strong> Het uitvoeren van taken levert gevolgen op - dit zijn de definitieve
veranderingen die het domein accepteert als geldig. Deze gevolgen vormen de waarheid voor dit
domein. Ze beschrijven wat er is gebeurd: een persoon is verhuisd, een huwelijk is voltrokken, een
kind is geboren, een bedrijf is ingeschreven, een eigendom is overgedragen.</p>
<p><strong>Stap 5: Presentatie opmaken</strong> De gevolgen worden niet rechtstreeks gedeeld, maar gebruikt om
projecties op te maken die aansluiten bij specifieke informatiebehoeften. Een verhuizing kan
bijvoorbeeld leiden tot verschillende presentaties: een uittreksel voor de gemeente, een
adreswijziging voor de belastingdienst, of een notificatie voor de zorgverzekeraar. Elke
presentatie[^1] toont alleen de informatie die relevant is voor de ontvangende partij.</p>
<p>Deze cyclus vormt de kern van elk register-ondersteund proces. Het register bewaart de gevolgen en
stelt ze beschikbaar voor raadpleging.</p>
<p><img src="/assets/uitvoeringsproces.svg" alt="Gedetailleerd uitvoeringsproces dat het register ondersteunt">
<em>Figuur 2: Gedetailleerd uitvoeringsproces dat het register ondersteunt</em></p>
<section id="het-domeinmodel-als-kern"><h4 id="x2-6-1-het-domeinmodel-als-kern"><bdi class="secno">2.6.1 </bdi>Het domeinmodel als kern</h4>
<p>Het <strong>domeinmodel</strong> definieert wat binnen het domein mogelijk is. Het beschrijft:</p>
<ul>
<li><strong>Taakdefinities</strong>: Welke acties mogelijk zijn binnen het domein</li>
<li><strong>Taakverwerkingsregels</strong>: Hoe taken worden uitgevoerd en welke gevolgen ze hebben</li>
<li><strong>Presentatiedefinities</strong>: Welke informatie in welke vorm beschikbaar gesteld wordt</li>
<li><strong>Presentatieverwerkingsregels</strong>: Hoe gevolgen worden omgezet naar specifieke informatiebehoeften</li>
</ul>
<p><strong>Signaalverwerking staat buiten het domeinmodel.</strong> Allerlei signalen kunnen op het proces afkomen.
De signaalverwerking interpreteert deze naar het domeinmodel toe: welke van de beschikbare taken
moet worden uitgevoerd?</p>
<p>Het domeinmodel vormt de kern van wat het register ondersteunt - de mogelijke acties en hun
gevolgen.</p>
</section><section id="signaal-ontvangen-en-interpreteren"><h4 id="x2-6-2-signaal-ontvangen-en-interpreteren"><bdi class="secno">2.6.2 </bdi>Signaal ontvangen en interpreteren</h4>
<ul>
<li>Een gebeurtenis binnen of buiten het domein leidt tot een <em>Signaal</em></li>
<li><em>Signaalverwerking</em> beoordeelt of dit signaal relevant is voor het domein</li>
<li>Relevante signalen worden vertaald naar acties die het domein kan uitvoeren</li>
</ul>
</section><section id="taken-definieren-en-uitvoeren"><h4 id="x2-6-3-taken-definieren-en-uitvoeren"><bdi class="secno">2.6.3 </bdi>Taken definiëren en uitvoeren</h4>
<ul>
<li>Uit het signaal ontstaan één of meerdere <em>Taken</em> die binnen het domein uitgevoerd kunnen worden</li>
<li><em>Taakuitvoering</em> voert deze taken uit volgens de regels van het <em>Domeinmodel</em></li>
<li>Taken volgen <em>Taakdefinities</em> en <em>Taakverwerkingsregels</em> uit het domeinmodel</li>
</ul>
</section><section id="gevolgen-vastleggen"><h4 id="x2-6-4-gevolgen-vastleggen"><bdi class="secno">2.6.4 </bdi>Gevolgen vastleggen</h4>
<ul>
<li>Uitgevoerde taken leiden tot <em>Gevolgen</em> - de daadwerkelijke veranderingen in het domein</li>
<li>Deze gevolgen vormen de nieuwe waarheid voor dit domein</li>
</ul>
</section><section id="informatie-beschikbaar-stellen"><h4 id="x2-6-5-informatie-beschikbaar-stellen"><bdi class="secno">2.6.5 </bdi>Informatie beschikbaar stellen</h4>
<ul>
<li><em>Presentatieopmaking</em> creëert verschillende <em>Presentaties</em> op basis van de gevolgen</li>
<li>Elke presentatie is afgestemd op specifieke informatiebehoeften volgens <em>Presentatiedefinities</em> en
<em>Effectverwerkingsregels</em> uit het domeinmodel</li>
<li>Presentaties kunnen als nieuwe signalen dienen voor vervolgprocessen in eigen of andere domeinen</li>
</ul>
</section></section><section id="applicatieve-ondersteuning-met-het-register"><h3 id="x2-7-applicatieve-ondersteuning-met-het-register"><bdi class="secno">2.7 </bdi>Applicatieve ondersteuning met het register</h3>
<p>Het uitvoeringsproces krijgt concrete vorm in een applicatiearchitectuur. Het register ondersteunt
dit proces door de juiste componenten en datastromen in te richten. Ultiem is een (business)
domeinmodel gelijk aan een register, één <em>bounded context</em> met eigen regels en begrippen, zoals
bedoeld in [<cite><a class="bibref respec-offending-element" data-link-type="biblio" href="#bib-domain-driven-design" title="Reference &quot;[domain-driven-design]&quot; not found." id="respec-offender-reference-domain-driven-design-not-found-0">domain-driven-design</a></cite>]. Veel vaker is het zo dat er meerdere bounded contexten te
onderscheiden zijn in één business domeinmodel[^2]. Dit heeft te maken met verantwoordelijkheden en
technologie <em>stacks</em> en hebben vaak ook historische redenen; de verzameling van applicaties die door
de tijd heen ontwikkeld zijn. Toch tekenen we hier de eenvoudige en ultieme situatie als
uitgangspunt.</p>
<p><img src="/assets/registeranatomie.svg" alt="Applicatieve ondersteuning en architectuurelementen waaruit het register
bestaat"> <em>Figuur 3: Applicatieve ondersteuning en
architectuurelementen waaruit het register bestaat</em></p>
<section id="van-proces-naar-applicatie"><h4 id="x2-7-1-van-proces-naar-applicatie"><bdi class="secno">2.7.1 </bdi>Van proces naar applicatie</h4>
<p>Het abstracte proces wordt concreet door deze architectuurcomponenten:</p>
</section><section id="notificatie-command-signaalverwerking"><h4 id="x2-7-2-notificatie-command-signaalverwerking"><bdi class="secno">2.7.2 </bdi>Notificatie → Command (Signaalverwerking)</h4>
<ul>
<li><strong>Notificatieprocessor</strong> ontvangt <em>notificaties</em> van binnen en buiten het domein</li>
<li>Beoordeelt relevantie voor het eigen domein door raadpleging van projecties</li>
<li>Vertaalt relevante notificaties naar <em>commands</em> volgens domeinconventies</li>
</ul>
</section><section id="command-effecten-taakuitvoering"><h4 id="x2-7-3-command-effecten-taakuitvoering"><bdi class="secno">2.7.3 </bdi>Command → Effecten (Taakuitvoering)</h4>
<ul>
<li><strong>Commandprocessor</strong> ontvangt commands en bepaalt welke <em>effecten</em> ontstaan</li>
<li>Voert domeinregels uit en valideert tegen bestaande gegevens via projecties</li>
<li>Effecten beschrijven de daadwerkelijke veranderingen binnen het domein</li>
</ul>
</section><section id="effecten-projecties-presentatieopmaking"><h4 id="x2-7-4-effecten-projecties-presentatieopmaking"><bdi class="secno">2.7.4 </bdi>Effecten → Projecties (Presentatieopmaking)</h4>
<ul>
<li><strong>Effectprocessor</strong> maakt <em>projecties</em> op basis van effecten</li>
<li>Projecties bevatten alleen informatie uit het eigen domein ('data bij de bron')</li>
<li>Elke projectie is afgestemd op specifieke (groepen van)[^1] informatiebehoeften</li>
</ul>
</section><section id="register-commands-effecten-projecties"><h4 id="x2-7-5-register-commands-effecten-projecties"><bdi class="secno">2.7.5 </bdi>Register = Commands + Effecten + Projecties</h4>
<p>Het register bestaat uit:</p>
<ul>
<li><strong>Commands</strong>: De opdrachten aan het register, aangeboden met de intentie daarin een verandering
aan te brengen</li>
<li><strong>Effecten</strong>: De waarheid van het domein - wat er werkelijk is gebeurd</li>
<li><strong>Projecties</strong>: Verschillende views op deze waarheid voor verschillende gebruikers</li>
</ul>
<p><strong>Syntheses</strong>[^3] (views die meerdere domeinen combineren) vallen buiten het register en verdienen
eigen architectuur.</p>
<p>[^1]: Dit is conceptueel juist, maar zeker geen dagelijkse praktijk. In de informatiebehoeften van
    verschillende afnemers zijn vaak overeenkomstigheden te vinden, zodat groepering voor de hand.
    Richtlijnen en overwegingen gaan nog (elders) beschreven worden.</p>
<p>[^2]: <a href="https://verraes.net/2025/08/domain-and-bounded-contexts-dont-map-one-on-one/">No, Your Domains and Bounded Contexts Don’t Map 1 on
    1</a> - Mathias
    Verraes.</p>
<p>[^3]: Naar <a href="https://chronolexografie-3e7a8b.gitlab.io/">Chronolexografie</a>, een conceptueel model en
    specifieke architectuur voor het digitaal vastleggen en bijhouden van de rechtstoestand. De
    <em>projecties</em> in bovenstaand artikel zijn te relateren aan de <em>reductie</em> uit Chronolexografie.
    Met <em>synthese</em> wordt in beide artikelen geduid op analyse en <em>view</em> op meer dan alleen
    projecties en reducties uit registers. Het betreft vaak uitgebreidere verwerkingen,
    transformaties en combinatie met meerdere projecties uit verschillende registers.</p>
</section></section></section>
  <section id="assembling"><h2 id="x3-samenstellen-respec-documentatie-in-github-under-construction"><bdi class="secno">3. </bdi>Samenstellen Respec documentatie in GitHub (under construction)</h2>
<p>De acties die in het voorgaande hoofdstuk staan beschreven leveren een html bestand voor de Respec documentatie op waarin een informatiemodel wordt beschreven. Respec documentatie hoeft echter niet persé over informatiemodellen te gaan, voor de Respec documentatie die je nu leest is dat immers ook niet het geval. Het resultaat van het voorgaande hoofdstuk kan samen met andere html of markdown bestanden worden gebundeld tot de Respec documentatie. Daarnaast wordt een deel van de content van de Respec documentatie door het Respec framework in GitHub gegenereerd a.d.h.v. een aantal variabelen. Dat framework  verzorgt daarnaast ook de vormgeving dat essentieel is voor de Respec documentatie.</p>
<p>Binnen VNG-R maken we gebruik van een door Logius vervaardigde extensie op het W3C Respec framework. We volgen daarbij andere organisaties in Nederland die hetzelfde doen zoals Geonovum. Van het door Logius beschikbaar gestelde template is een VNG-R versie beschikbaar binnen de VNG-Realisatie GitHub organisatie. Dat geeft de mogelijkheid om te verwijzen naar een VNG-R Respec configuratie waardoor we specifiek voor VNG-Realisatie geldende configuraties, zoals bijv. het VNG-Realisatie logo, kunnen aanbrengen. Deze vind je in de repository 'Respec-Organization-configurations'.
Het template zelf kan echter door eenieder worden gebruikt om de eigen Respec documentatie te vervaardigen en daarbinnen bestaan nog mogelijkheden om jouw Respec documentatie een invulling tintje te geven.</p>
<p>Hieronder wordt de werkwijze beschreven waarbij de 8 in de volgende paragraaf beschreven stappen moeten worden uitgevoerd door een GitHub organisatie administrator. Voorzie hem daarvoor van de gewenste respository naam.</p>
<section id="door-administrator-uit-te-voeren-acties"><h3 id="x3-1-door-administrator-uit-te-voeren-acties"><bdi class="secno">3.1 </bdi>Door administrator uit te voeren acties</h3>
<ol>
<li>Open het <a href="https://github.com/vng-realisatie/VNG-R-Respec-Template">VNG-R Respec template</a> en klik in de README op die pagina op de link 'Use this template';</li>
<li>Je komt nu in het menu om een nieuwe repository aan te maken waarbij al een aantal velden zijn ingevuld. De te maken repository mag niet private zijn want dat maakt het gebruik van GitHub Pages onmogelijk. Geef de van de aanvrager verkregen repository naam in en klik op 'Create repository';</li>
<li>Voer de acties, zoals beschreven in <a href="https://github.com/VNG-Realisatie/api-beheer/blob/master/doc/Standaard-inrichting-GitHub-GitLab.md">de handleiding voor het initieel inrichten van GitHub repositories</a>, uit;</li>
<li>Verwijder in de root van de repository het 'README.md' bestand en hernoem 'Alt-README.md' naar 'README.md'</li>
</ol>
<blockquote>
<p>Dat bestand moet nog gecreëerd worden in het template;</p>
</blockquote>
<ol start="6">
<li>Activeer GitHub Pages voor de nieuwe repository. Selecteer daarvoor het tabblad 'Settings' en kies daar 'Pages';</li>
<li>Kies daar waar bij Branch 'None' staat voor 'main' en klik op 'Save';</li>
<li>Nadat de build en deployment is uitgevoerd ga je naar het 'Code' tabblad, klikt daar op het tandwieltje bij 'About' en klikt op de checkbox naast 'Use your GitHub Pages website'. Klikken op de resulterende link onder 'About' brengt je naar de standaard gegenereerde Respec documentatie die nu kan worden aangepast door de eigenaar van de repository;</li>
</ol>
</section><section id="door-repository-eigenaar-uit-te-voeren-acties"><h3 id="x3-2-door-repository-eigenaar-uit-te-voeren-acties"><bdi class="secno">3.2 </bdi>Door repository eigenaar uit te voeren acties</h3>
<p>Je beschikt nu over een repository die je kunt gaan vullen en waarin je je persoonlijke configuratie properties van een waarde kunt voorzien. Indien je een met Imvertor gegenereerd Respec html bestand wil gebruiken dan volg je de beschrijving van de volgende paragraaf, zo niet dan ga je direct naar de daarop volgende paragraaf.</p>
<section id="imvertor-resultaat-plaatsen"><h4 id="x3-2-1-imvertor-resultaat-plaatsen"><bdi class="secno">3.2.1 </bdi>Imvertor resultaat plaatsen</h4>
<p>Plaats het met Imvertor gegenereerde bestand in de root van de repository. Van dat bestand gebruiken we alleen de inhoud van het 'section' element met het id 'cat'. Het section element zelf gebruiken we dus niet. Verwijder alle andere content behalve de processing instruction 'DOCTYPE HTML' aan het begin van dit bestand en commit het bestand.
Open vervolgens het bestand 'index.html' en plaats daarin op de gewenste locatie het volgende html fragment:<br><br>
   <code>&lt;section id="XXXX" data-include-format="html" data-include="XXXX.html"&gt;&lt;/section&gt;</code><br><br>
Waarbij je 'XXXX.html' vervangt door de naam van het zojuist aangepaste bestand en 'XXXX' door een id dat de sectie duidelijk en uniek identificeert.</p>
</section><section id="de-content-van-het-respec-document-aanpassen"><h4 id="x3-2-2-de-content-van-het-respec-document-aanpassen"><bdi class="secno">3.2.2 </bdi>De content van het Respec document aanpassen</h4>
<p>Een Respec document kan op 2 verschillende manier van content worden voorzien:</p>
<ul>
<li>door de 'sectie' elementen aan het 'index.html' bestand toe te voegen.</li>
<li>m.b.v. de 'content' configuratie property;</li>
</ul>
<p>Beide methodes kunnen naast elkaar worden gebruikt. Advies is echter omn de eerste methode te gebruiken. Deze is transparanter omdat met 1 blik op het index.html bestand te zien is wat er in wordt opgenomen.</p>
<p>Het Respec document zoals dat van het VNG-R Respec template is overgenomen moet nog aangepast worden. Deels kan dat door in de 'index.html' secties aan te passen danwel te vervangen en deels door de configuration property 'content' aan te passen.  </p>
<section id="content-methode"><h5 id="x3-2-2-1-content-methode"><bdi class="secno">3.2.2.1 </bdi>Content methode</h5>
<p>M.b.v. de 'content' configuratie property kunnen alleen secties waarvan de content in markdown bestanden staat worden toegevoegd. In deze property kan per bestand worden aangegeven of die sectie informatief is. Is dat het geval dan wordt automatisch de tekst <code>Dit onderdeel is niet normatief.</code> aan het hoofdstuk toegevoegd.
Het toevoegen van bestanden aan de 'content' configuratie property doe je door de naam van het bestand (zonder de extensie) en een eventueel relevante CSS class in de property te plaatsen.
De volgorde van bestanden binnen <code>content</code> bepaalt de volgorde in het resulterende document.</p>
<p>De code <code>content: {"ch01": "informative", "mermaid": ""},</code> voegt 2 markdown bestanden toe, te weten:</p>
<ul>
<li><code>ch01.md</code> met de CSS class <code>informative</code>;</li>
<li><code>mermaid.md</code> zonder CSS class.</li>
</ul>
<p>Voor een volledige lijst van CSS classes zie de <a href="https://respec.org/docs/#css-classes">ReSpec Documentation</a>. Deze classes zijn ook binnen de markdown files te gebruiken op de volgende manier: </p>
<p><code>&lt;div class="example"&gt;voorbeeld&lt;/div&gt;</code></p>
<p>Het gebruik van de 'content' properties is niet verplicht, er mag voor worden gekozen nieuwe content alleen toe te voegen door het 'index.html' bestand aan te passen. De 'content' property moet dan wel uit het lokale 'js/config.js' bestand worden verwijderd of worden uitbecommentarieerd. Ook kan de plaats waar de in 'content' gedefinieerde hoofdstukken moeten worden toegevoegd worden aangepast. Zorg er dan voor dat het 'section' element waarna je die chapters wil toevoegen een 'id' attribuut met een waarde heeft en wijzig in het script in 'index.html' de regel</p>
<p><code>document.getElementById("id-van-sectie").insertAdjacentHTML('afterend', content);</code></p>
<p>zodanig dat de waarde 'id-van-sectie' de waarde van het id heeft.</p>
</section><section id="sectie-methode"><h5 id="x3-2-2-2-sectie-methode"><bdi class="secno">3.2.2.2 </bdi>Sectie methode</h5>
<p>In tegenstelling tot de methode met de 'content' configuratie property kunnen aan het 'index.html' bestand zowel 'sectie' elementen worden toegevoegd waarvan de content uit markdown bestaat als 'sectie' elementen waarvan de content uit html bestaat. Aangezien het gegenereerde Respec bestand een html bestand is kunnen we het alleen toevoegen aan het Respec document door een 'sectie' element toe te voegen aan het index.html bestand.</p>
<p>Bij de methode met de 'section' elementen maken we nog verschil tussen 'sectie' elementen met specifieke waarden voor het 'id' attribuut en 'sectie' elementen die andere waarden voor dat 'id' attribuut hebben of die zelfs helemaal geen 'id' attribuut hebben.</p>
<p>In de onderstaande paragrafen volgt per sectie een toelichting.</p>
</section><section id="secties-met-id-attribuutwaarde-sotd"><h5 id="x3-2-2-3-secties-met-id-attribuutwaarde-sotd"><bdi class="secno">3.2.2.3 </bdi>Secties met 'id' attribuutwaarde 'sotd'</h5>
<p>Toe te voegen m.b.v. <code>&lt;section id="sotd"&gt;&lt;/section&gt;</code>. Leidt ertoe dat het hoofdstuk met de titel 'Status van het document' wordt toegevoegd met als inhoud de, van de waarde van de configuration property 'specStatus' afhankelijke, content van de configuration property 'sotdText'.</p>
<p>Tevens wordt een TOC gegenereerd waarin de titels (incl. evt. hoofdstuk en paragraafnummers) van alle, in het document opgenomen, hoofdstukken en paragrafen worden opgenomen afhankelijk van de configuratie property 'maxTocLevel'. Ook de titels van 'sectie' elementen zonder 'id' attribuut worden daar opgenomen.</p>
<p>Indien de configuration property 'content' bestaat dan worden de daarin gedefinieerde markdown bestanden na de 'sotd' sectie opgenomen.
Zo niet dan worden de in de 'content' configuratie property gedefinieerde secties ook niet toegevoegd en wordt er ook geen TOC gegenereerd.</p>
</section><section id="secties-met-id-attribuutwaarde-abstract"><h5 id="x3-2-2-4-secties-met-id-attribuutwaarde-abstract"><bdi class="secno">3.2.2.4 </bdi>Secties met 'id' attribuutwaarde 'abstract'</h5>
<p>Indien de sectie wordt toegevoegd met <code>&lt;sectie id="abstract" data-include-format="markdown" data-include="filenaam.md"&gt;</code> dan krijgt het hoofdstuk de titel Samenvatting zonder hoofdstuknr. als inhoud wordt de inhoud van het bestand 'filenaam.md' toegevoegd.</p>
</section><section id="secties-met-id-attribuutwaarde-conformance"><h5 id="x3-2-2-5-secties-met-id-attribuutwaarde-conformance"><bdi class="secno">3.2.2.5 </bdi>Secties met 'id' attribuutwaarde 'conformance'</h5>
<p>Door <code>&lt;section id='conformance'&gt;&lt;/section&gt;</code> wordt een hoofdstuk met als titel 'Conformiteit' toegevoegd. </p>
<p>De inhoud komt waarschijnlijk uit <a href="https://github.com/Logius-standaarden/respec">https://github.com/Logius-standaarden/respec</a>. Het is nog niet duidelijk hoe dit hoofdstuk zijn inhoud krijgt.</p>
</section><section id="secties-met-id-attribuutwaarde-tof"><h5 id="x3-2-2-6-secties-met-id-attribuutwaarde-tof"><bdi class="secno">3.2.2.6 </bdi>Secties met 'id' attribuutwaarde 'tof'</h5>
<p><code>&lt;section id='tof'&gt;&lt;/section&gt;</code> genereert een hoofdstuk met als titel 'Lijst met Figuren' als er in minimaal een van de opgenomen bestanden minimaal een html 'figure' element met een 'figcaption' element is opgenomen of een markdown equivalent daarvan ( '![Tekstueel alternatief voor toegankelijkheid](pad naar iluustratie bestand "Onderschrift")' ). In de markdown variant mag het onderschrift ontbreken.</p>
<p>De titel komt waarschijnlijk uit <a href="https://github.com/Logius-standaarden/respec">https://github.com/Logius-standaarden/respec</a>. Het is nog niet duidelijk hoe die titel wordt toegekend.</p>
</section><section id="secties-met-id-attribuutwaarde-index"><h5 id="x3-2-2-7-secties-met-id-attribuutwaarde-index"><bdi class="secno">3.2.2.7 </bdi>Secties met 'id' attribuutwaarde 'index'</h5>
<p><code>&lt;section id="index"&gt;&lt;/section&gt;</code> genereert een hoofdstuk met als titel 'Bijlage N Index' als er in minimaal 1 van de in het document opgenomen bestanden (zowel markdown als html) minimaal 1 'dfn' element is opgenomen. Vanuit de tekst kan naar dat element verwezen worden door een 'a' element op te nemen zonder attributen maar met als inhoud de naam van een 'dfn' element.</p>
</section><section id="secties-met-een-andere-id-attribuutwaarde"><h5 id="x3-2-2-8-secties-met-een-andere-id-attribuutwaarde"><bdi class="secno">3.2.2.8 </bdi>Secties met een andere 'id' attribuutwaarde</h5>
<ul>
<li>Indien de sectie wordt toegevoegd met <code>&lt;sectie id="nnnnnn" data-include-format="markdown" data-include="filenaam.md"&gt;</code> dan wordt het hoofdstuk gevuld met de inhoud van 'filenaam.md'. Als 'filenaam.md' met een markdown titel start (ongeacht het level en het aantal blanco regels er voor) dan wordt een hoofdstuknummer voor die titel gegenereerd anders wordt de content zonder titel toegevoegd aan het document. Een evt. titel wordt ook opgenomen in de TOC.</li>
<li>Indien de sectie wordt toegevoegd met <code>&lt;sectie data-include-format="markdown" data-include="filenaam.md"&gt;</code> dan wijkt het resultaat niet af van die van hierboven. Alleen wordt bij deze variant het 'id' van de sectie en de gerelateerde 'href' in de TOC gegenereerd op basis van de titel van deze sectie.</li>
</ul>
<p>In alle gevallen is <code>data-include-format="markdown"</code> verplicht.</p>
</section><section id="secties-met-data-include-format-html"><h5 id="x3-2-2-9-secties-met-data-include-format-html"><bdi class="secno">3.2.2.9 </bdi>Secties met <code>data-include-format="html"</code></h5>
<p>Dit soort secties wordt direct opgenomen op de plaats waar <code>&lt;section id="nnnn" data-include-format="html" data-include="filenaam.html"&gt;&lt;/section&gt;</code> is geplaatst.</p>
<p>Het html fragment in het bestand hoeft niet te bestaan uit 1 root element. Sterker nog als dat wel het geval is en het fragment heeft de root 'div' of 'sectie' dan wordt het fragment niet vertaalt naar een separaat hoofdstuk.</p>
<p>Om een separaat hoofdstuk te kunnen starten dient het document wel met een 'hx' element te starten (h1, h2, h3, etc..).</p>
<p>De titel wordt dan ook opgenomen in de TOC.</p>
<p>Dit soort secties mag ook zonder 'id' attribuut worden opgenomen. Die variant geeft geen ander resultaat dan die hiervoorgeschetst. Alleen wordt bij deze variant het id van de sectie en de gerelateerde href in de TOC gegenereerd op basis van de titel van deze sectie.</p>
<p><code>data-include-format="html"</code> mag worden weggelaten.</p>
</section><section id="andersoortige-secties"><h5 id="x3-2-2-10-andersoortige-secties"><bdi class="secno">3.2.2.10 </bdi>Andersoortige secties</h5>
<p>Indien een sectie element leeg is en het 'id' komt niet overeen met een van de, in de voorgaande paragrafen beschreven, bekende id's dan wordt de sectie genegeerd.</p>
</section></section><section id="bijlage-n-referenties"><h4 id="x3-2-3-bijlage-n-referenties"><bdi class="secno">3.2.3 </bdi>Bijlage N Referenties</h4>
<p>Wordt alleen opgenomen als er in een van de andere documenten (zowel markdown als html)een referentie is opgenomen in de vorm '[ [Ref] ]' en die referentie in config.js of organisation-config.js is gedefinieerd.</p>
</section><section id="images-in-de-documentatie"><h4 id="x3-2-4-images-in-de-documentatie"><bdi class="secno">3.2.4 </bdi>Images in de documentatie</h4>
<p>Plaats eventuele images die je in de Respec documentatie wil opnemen in de 'media' folder. Daarbinnen mag je elke door jou gewenste folderstructuur creëren.</p>
</section></section><section id="lokale-respec-configuratie-properties"><h3 id="x3-3-lokale-respec-configuratie-properties"><bdi class="secno">3.3 </bdi>Lokale Respec configuratie properties</h3>
<p>Zoals aangegeven maken we in het Respec framework gebruik van een aantal VNG-R properties. Properties die er voor zorgen dat alle Respec documentatie van VNG-R eenzelfde look en feel heeft. Er zijn echter ook een aantal lokale configuratie properties waarmee voor ieder Respec document eigen keuzes kunnen worden gemaakt. Denk daarbij aan de status die het document heeft, de publicatie datum, de editors, etc...</p>
<p>Alle lokale configuratie properties kun je vinden in 'js/config.js' en mag je naar eigen inzicht aanpassen. </p>
<blockquote>
<p>Er moet nog bepaald worden welke properties lokaal moeten zijn en welke globaal (dus welke behoren te staan in de repository 'Respec-Organization-configurations').</p>
</blockquote>
</section><section id="functie-respec-configuratie-properties"><h3 id="x3-4-functie-respec-configuratie-properties"><bdi class="secno">3.4 </bdi>Functie Respec configuratie properties</h3>
<p>Hieronder vind je de totale lijst van Configuratie properties. De vierde kolom geeft aan of het om een globale of lokale property gaat. Voor enkele properties is dat heel logisch, 
zo zijn 'localizationStrings' en 'previousPublishVersion' logischerwijs globaal, 'github' en 'title' zijn juist weer lokaal.
De meeste globaal gedefinieerd properties kunnen lokaal overruled worden zoals 'useLogo'. Doe dat echter alleen als daar een hele goede reden voor is.</p>
<table>
    <thead>
        <tr>
            <th>Property</th>
            <th>Type</th>
            <th>Afspraak gebruik binnen VNG-R (Globaal/Lokaal)</th>
            <th>Vaste globale waarde of default waarde</th>
            <th>Beschrijving</th>
            <th>Opmerking</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><a href="https://github.com/Logius-standaarden/respec/wiki/addSectionLinks">addSectionLinks</a></td>
            <td>boolean</td>
            <td>Globaal en lokaal</td>
            <td>true</td>
            <td>Bepaald of er een paragraafteken (§), met een link naar de paragraaf waar het teken vóór komt te staan, wordt gegenereerd of niet.<br>
                Biedt anderen de gelegenheid tom links naar specifieke paragrafen in je Respec document te kopiëren en elders te gebruiken. Er is voor gekozen standaard altijd de links mee te genereren.</td>
            <td>Deze property kan lokaal overruled worden.</td>
        </tr>
        <tr>
            <td><a href="https://github.com/Logius-standaarden/respec/wiki/alternateFormats">alternateFormats</a></td>
            <td>Array met per formaat de properties 'label' en 'url'.</td>
            <td>Lokaal</td>
            <td>
            </td><td>Hiermee kun je aangeven of je de Respec documentatie ook in een ander formaat dan html aanbiedt, op dit moment is alleen pdf mogelijk.<br>
                Deze configuratie property zorgt er voor dat er een pdf bestand wordt gegenereerd en dat er in de Respec documentatie een zin gewijd wordt aan het pdf 
                formaat met daarin de link naar het pdf bestand.</td>
            <td>Deze property mag indien het niet gewenst is een pdf te genereren uit becommentarieerd worden. Dat zou zich voor kunnen doen bij vroege werkversies waarvan je juist níet wil dat deze in een duurzaam formaat gaan circuleren.</td>
        </tr>
        <tr>
            <td><a href="https://github.com/Logius-standaarden/respec/wiki/authors">authors</a></td>
            <td>Array met per naam de properties 'name', 'company' en 'companyURL'.</td>
            <td>Lokaal</td>
            <td>
            </td><td>Bevat 1 of meerdere beschrijvingen van personen die hebben bijgedragen aan de tot stand koming van het Respec document.<br><br>Het heeft de voorkeur editors te gebruiken 
                boven authors. Indien deze configuratie property niet aanwezig is wordt 'Auteurs' niet getoond.</td>
            <td>Authors hebben bijgedragen aan de initiële content van het Respec document, editors hebben verbeteringen en wijzigingen aangebracht aan die initiële content.</td>
        </tr>
        <tr>
            <td>content</td>
            <td>Array (zie een beschrijving onder deze tabel).</td>
            <td>Lokaal</td>
            <td>
            </td><td>Te gebruiken voor het toevoegen van content aan het Respec document. Het heeft de voorkeur [de 'Sectie' methode](./#sectie-methode) te gebruiken.</td>
            <td>
        </td></tr>
        <tr>
            <td><a href="https://github.com/Logius-standaarden/respec/wiki/editors">editors</a></td>
            <td>Array met per naam de properties 'name', 'company' en 'companyURL'.</td>
            <td>Lokaal</td>
            <td>
            </td><td>Één of meerdere beschrijvingen van personen die hebben bijgedragen aan de tot stand koming van het Respec document.<br><br>Het heeft de voorkeur editors te gebruiken boven 
                authors. Indien deze configuratie property niet aanwezig is wordt 'Redacteurs' getoond zonder vulling.</td>
            <td>Authors hebben bijgedragen aan de initiële content van het Respec document, editors hebben verbeteringen en wijzigingen aangebracht aan die initiële content.</td>
        </tr>
        <tr>
            <td><a href="https://github.com/w3c/respec/wiki/formerEditors">formerEditors</a></td>
            <td>Array met per naam de properties 'name', 'company' en 'companyURL'.</td>
            <td>Lokaal</td>
            <td>
            </td><td>Bevat 1 of meerdere beschrijvingen van personen die in het verleden hebben bijgedragen aan de totstandkoming van het Respec document.</td>
            <td>
        </td></tr>
        <tr>
            <td><a href="https://github.com/Logius-standaarden/respec/wiki/github">github</a></td>
            <td>URI of een array van de properties 'repoURL' en 'branch'.</td>
            <td>Lokaal</td>
            <td>
            </td><td>Gebruikt voor het genereren van de links in de 'Doe mee' tabel bovenin de Respec documentatie. Kan gevuld worden met
                <ul>
                    <li>een url naar een GitHub repository</li>
                    <li>het deel van de url van een GitHub repository dat komt na 'https://github.com/'</li>
                    <li>een set van properties bestaande uit
                    <ul>
                        <li>repoURL: Een van bovenstaande opties</li>
                        <li>branch: de branch waarin het Respec document maar ook issues staan opgeslagen.</li>
                    </ul>
                    </li>
                </ul>
                Verwijst naar de GitHub repository waarin het Informatiemodel wordt beheerd.<br><br>Indien niet gedefinieerd dan wordt de 'Doe mee' tabel niet gegenereerd.</td>
            <td>
        </td></tr>
        <tr>
            <td><a href="https://github.com/Logius-standaarden/respec/wiki/labelColor">labelColor</a></td>
            <td>Hexadecimale colorcode.</td>
            <td>Globaal</td>
            <td>
            </td><td>Definieert de bij de in 'LocalizationStrings' gedefinieerde statussen horende kleuren.</td>
            <td>De specifiek voor VNG Realisatie gedefinieerde statussen kennen de volgende kleuren:<br>
                <ul>
                <li>In Gebruik (IG): <span style="color: #A569BD">█████</span></li>
                <li>In Ontwikkeling (IO): <span style="color: #DC7633">█████</span></li>
                </ul>
                Deze property kan niet Lokaal gespecificeerd en dus ook niet overruled worden.
            </td>
        </tr>
        <tr>
            <td><a href="https://github.com/Logius-standaarden/respec/wiki/latestVersion">latestVersion</a></td>
            <td>Combinatie van strings en configuration propertynamen.</td>
            <td>Globaal en lokaal</td>
            <td>Definieert de url van de laatst gepubliceerde versie. Samenvoeging van achtereenvolgens <code>nl_organisationPublishURL</code>, <code>pubDomain</code>, "/",  en <code>shortName</code>.</td>
            <td>Wordt opgebouwd m.b.v. andere gedefinieerde configuration properties en '/' tekens. Daarin voorkomende hoofdletters worden omgezet naar kleine letters.</td>
            <td>Indien deze configuration property of een van de properties waaruit het bestaat niet worden verstrekt dan wordt de gerelateerde rubriek in het Respec document 
                ook niet aangemaakt.<br><br>Deze property kan lokaal overruled worden maar ben daar terughoudend mee. Bij lokaal definiëren van deze property is de werking 
                van de links in het document nl. niet te garanderen aangezien die zou kunnen afwijken van de afgesproken structuur in de publishing repository.<br><br>
                De laatste gepubliceerde versie is overigens wat anders dan de laatste werkversie (property 'edDraftURI').</td>
        </tr>
        <tr>
            <td><a href="https://github.com/Logius-standaarden/respec/wiki/license">license</a></td>
            <td>enumeration</td>
            <td>Globaal en lokaal</td>
            <td>eupl</td>
            <td>Definieert het licentietype dat van toepassing is op het Respec document. VNG-R hanteert de 'EUPL' licentie maar zo gewenst kan ook gekozen worden voor 'CC0', 'CC-BY' of 'CC-BY-ND'. 
                Toegestane waardes 'eupl', 'cc0', 'cc-by', 'cc-by-nd'. Wordt gebruikt om licentie-logo en bijbehorende link in het document te genereren.</td>
            <td>Deze property kan en mag lokaal overruled worden.<br><br>Nieuwe licentie types en het bijbehorende logo's kunnen in zowel in de globale als lokale property 'licenses' worden gedefinieerd.</td>
        </tr>
        <tr>
            <td><a href="https://github.com/Logius-standaarden/respec/wiki/licenses">licenses</a></td>
            <td>Array met per licentiecode de properties 'name', 'short', 'url' en 'image'.</td>
            <td>Globaal en lokaal</td>
            <td>
            </td><td>Definieert middels een array van configuratie properties ('name', 'short', 'url' en 'image') de te gebruiken soorten licenties waarnaar middels de code kan worden verwezen in de 
                configuratie-optie 'license'.</td>
            <td>Deze property is globaal gedefinieerd maar lokaal mogen er licentietypes toegevoegd worden.</td>
        </tr>
        <tr>
            <td><a href="https://github.com/Logius-standaarden/respec/wiki/localBiblio">localBiblio</a></td>
            <td>Array van één of meerdere objecten met met per object de properties 'href', 'title, 'publisher', 'date' en 'rawDate'.</td>
            <td>Globaal en lokaal</td>
            <td>
            </td><td>Hiermee kan een lijst met referenties in het hoofdstuk 'Referenties' worden gegenereerd. Die referenties bevatten metainformatie (bijv. 'auteur', 'publicatiedatum' en 'status') en 
                links naar de betreffende externe referenties. De referenties worden echter alleen opgenomen in dat hoofdstuk als er in het Respec document naar verwezen wordt middels een 
                link in de volgende syntax <code>[[Referentienaam]]</code>. Deze syntax geldt voor zowel html als markdown documenten.<br><br>
                Indien een link wordt opgenomen in een normatief documentdeel zal de referentie terecht komen in de subparagraaf 'Normatieve referenties'. Is deze opgenomen in een informatief 
                documentdeel dan komt deze in de subparagraaf 'Informatieve referenties' terecht.<br><br>
                Gerefereerd kan worden aan specrefs die beschikbaar zijn in <a href="https://www.specref.org/">de SpecRef database</a> (zie ook 
                <a href="https://github.com/tobie/specref">https://github.com/tobie/specref</a> of aan zelf in deze propertty gedefinieerde referenties. De syntax voor de inhoud van de localBiblio 
                property is <a href="https://github.com/tobie/specref/blob/main/schemas/raw-reference.json">hier</a> beschreven.<br><br>
                Neem waar van toepassing verwijzingen op naar gerelateerde wetgeving en gerelateerde standaarden op de 'Pas toe leg uit'-lijst van het Forum Standaardisatie of de Gemeentelijke 
                standaardenlijst met verbindendheid 'pas-toe-of-leg-uit' en 'verplicht'.</td>
            <td>Deze property kan zowel lokaal als globaal geconfigureerd worden.<br><br>Voor referenties waarvan we verwachten dat deze vaker gebruikt gaan worden of waarvan inmiddels duidelijk 
                is dat deze vaker gebruikt worden dient een verzoek te worden gedaan deze op te nemen in de organisation-config.js of nog beter deze op te laten nemen in de 
                <a href="https://www.specref.org/">SpecRef database</a>. Sterker nog, het wordt zelfs aangemoedigd geen gebruik van deze property te maken. Beheerders van Respec repositories zijn 
                er vanaf het moment dat de referentie is opgenomen in een van de twee opties zelf verantwoordelijk voor dat deze referenties uit hun eigen config.js worden verwijderd.</td>
        </tr>
        <tr>
            <td><a href="https://github.com/Logius-standaarden/respec/wiki/localizationStrings">localizationStrings</a></td>
            <td>Array van properties per taalcode</td>
            <td>Globaal en lokaal</td>
            <td>
            </td><td>Bevat voor een aantal doel- ('document statussen' en 'document types') / taalcombinaties de te gebruiken codes en de daarbij horende tekst.</td>
            <td>Bij VNG-R zullen we moeten bepalen of alle bestaande codes gewenst zijn en of er nieuwe codes toegevoegd moeten worden.<br><br>Deze property kan lokaal overruled worden maar 
                ben daar terughoudend mee.<br>Definieer in dat geval een nieuwe code en bijbehorende tekst en neem tegelijkertijd stappen deze op te laten nemen in de globale variant van deze property.</td>
        </tr>
        <tr>
            <td><a href="https://github.com/Logius-standaarden/respec/wiki/logos">logos</a></td>
            <td>Array per logo van de properties 'src', 'alt', 'id', 'height' en 'url'.</td>
            <td>Globaal en lokaal</td>
            <td>VNG Realisatie logo</td>
            <td>Definieert de src, alternate tekst, url en grootte van het linksboven in het Respec document te plaatsen logo.</td>
            <td>Willen we het VNG Realisatie logo geplaatst hebben of een ander logo? (Vraag ligt bij Communicatie)<br><br>Deze property kan lokaal overruled worden. Indien deze property wordt aangepast 
                moet ook de property 'nl_organisationName' worden aangepast.</td>
        </tr>
        <tr>
            <td><a href="https://github.com/w3c/respec/wiki/maxTocLevel">maxTocLevel</a></td>
            <td>Integer</td>
            <td>Globaal en lokaal</td>
            <td>
            </td><td>Is van invloed op twee zaken:
                <ul>
                    <li>het aantal niveau's dat maximaal wordt opgenomen in de inhoudsopgave van het Respec document;</li>
                    <li>het aantal paragraafniveau's dat in de inhoud van het document wordt benummerd. Dat is altijd 1 niveau meer dan de waarde van deze property.</li>
                </ul>
            </td>
            <td>Default worden alle niveau's opgenomen.<br><br>Deze property kan lokaal overruled worden.</td>
        </tr>
        <tr>
            <td><a href="https://github.com/Logius-standaarden/respec/wiki/nl_organisationName">nl_organisationName</a></td>
            <td>String</td>
            <td>Globaal en lokaal</td>
            <td>VNG Realisatie</td>
            <td>Wordt gebruikt om de subtitel en het vertikale label linksboven te genereren.</td>
            <td>Deze property kan lokaal overruled worden.</td>
        </tr>
        <tr>
            <td><a href="https://github.com/Logius-standaarden/respec/wiki/nl_organisationPublishURL">nl_organisationPublishURL</a></td>
            <td>URL</td>
            <td>Globaal en lokaal</td>
            <td>https://johanboer.github.io/Handreiking</td>
            <td>Wordt gebruikt voor het genereren van de link naar de GitHub pages van de huidige, de vorige en de laatst gepubliceerde versie. Een link die leidt naar een document in 
                de GitHub Pages interface van de 'publicatie' GitHub repository en zo gewenst de in de 'publicatie' repository gedefinieerde custom domain name.<br><br>
                Kan worden gebruikt in de properties 'lastVersion', 'thisVersion' en 'prevVersion'.</td>
            <td>Willen we de organisatienaam 'VNG Realisatie'  gebruiken of een andere naam? (Vraag ligt bij Communicatie)<br><br>
                Deze property kan lokaal overruled worden, in dat geval moet ook de property 'logos' worden aangepast.</td>
        </tr>
        <tr>
            <td><a href="https://github.com/Logius-standaarden/respec/wiki/nl_organisationStylesURL">nl_organisationStylesURL</a></td>
            <td>URL</td>
            <td>Globaal en lokaal</td>
            <td>https://gitdocumentatie.logius.nl/publicatie/respec/style/</td>
            <td>Definieert de locatie waar het te gebruiken css bestand staat excl. dat bestand zelf.</td>
            <td>Deze property kan lokaal overruled worden.</td>
        </tr>
        <tr>
            <td><a href="https://github.com/w3c/respec/wiki/noTOC">noTOC</a></td>
            <td>boolean</td>
            <td>Lokaal</td>
            <td>false</td>
            <td>Bepaald of er links van de inhoud een frame met de inhoudsopgave gegenereerd wordt.</td>
            <td>
        </td></tr>
        <tr>
            <td><a href="https://github.com/w3c/respec/wiki/otherLinks">otherLinks</a></td>
            <td>Array van properties</td>
            <td>Lokaal</td>
            <td>
            </td><td>Genereert een of meerdere secties (afhankelijk van het aantal 'key' 'data' voorkomens) in de header van het Respec document met als titel de waarde van de property 'key' en als inhoud een of meerdere links.</td>
            <td>
        </td></tr>
        <tr>
            <td><a href="https://github.com/w3c/respec/wiki/postProcess">postProcess</a></td>
            <td>Functie aanroep.</td>
            <td>Globaal</td>
            <td>?</td>
            <td>Bevat een of meer JavaScript functies die achtereenvolgend opgestart worden nadat Respec klaar is met generatie van het Respec document.</td>
            <td>Bevat nu een functie die indien van toepassing mermaid notatie wijze omzet naar graphs.<br><br>
                Deze property kan niet lokaal gedefinieerd worden en dus ook niet overruled worden.</td>
        </tr>
        <tr>
            <td><a href="https://github.com/Logius-standaarden/respec/wiki/previousMaturity">previousMaturity</a></td>
            <td>enumeration</td>
            <td>Lokaal</td>
            <td>
            </td><td>Status van de voorgaande in de 'publicatie' repository gepubliceerde versie.</td>
            <td>Heeft op dit moment geen functie aangezien deze property niet wordt gebruikt in de property 'prevVersion'.</td>
        </tr>
        <tr>
            <td><a href="https://github.com/Logius-standaarden/respec/wiki/previousPublishDate">previousPublishDate</a></td>
            <td>Datum in het formaat YYYY-MM-DD</td>
            <td>Lokaal</td>
            <td>
            </td><td>Publicatiedatum van de voorgaande versie.</td>
            <td>Heeft op dit moment geen functie aangezien deze property niet wordt gebruikt in de property 'prevVersion'.</td>
        </tr>
        <tr>
            <td><a href="https://github.com/Logius-standaarden/respec/wiki/previousPublishVersion">previousPublishVersion</a></td>
            <td>SemVer notatie</td>
            <td>Lokaal</td>
            <td>
            </td><td>Versienummer van de voorgaande versie in SemVer notatie (https://semver.org/lang/nl/).<br><br>
                Wordt gebruikt in de property 'prevVersion'.</td>
            <td>
        </td></tr>
        <tr>
            <td><a href="https://github.com/Logius-standaarden/respec/wiki/prevVersion">prevVersion</a></td>
            <td>Combinatie van strings en configuration propertynamen.</td>
            <td>Globaal en lokaal</td>
            <td>Samenvoeging van achtereenvolgens <code>nl_organisationPublishURL</code>, <code>pubDomain</code>, "/", <code>shortName</code>, "/" en <code>previousPublishVersion</code>.</td>
            <td>Wordt opgebouwd m.b.v. andere gedefinieerde configuration properties en '/' tekens. Daarin voorkomende hoofdletters worden omgezet naar kleine letters.</td>
            <td>Indien deze configuration property of een van de properties waaruit het bestaat niet worden verstrekt dan wordt de gerelateerde rubriek in het Respec document 
                ook niet aangemaakt.<br><br>Deze property kan lokaal overruled worden maar ben daar terughoudend mee. Bij lokaal definiëren van deze property is de werking 
                van de links in het document nl. niet te garanderen aangezien die zou kunnen afwijken van de afgesproken structuur in de publishing repository.</td>
        </tr>
        <tr>
            <td><a href="https://github.com/Logius-standaarden/respec/wiki/pubDomain">pubDomain</a></td>
            <td>enumeration</td>
            <td>Globaal en lokaal</td>
            <td>
            </td><td>Definieert het publicatie domein van het Respec document en heeft op dit moment de waarde 'cim'.<br><br>Wordt nu gebruikt in de properties 'lastVersion', 'thisVersion' en 'prevVersion'.</td>
            <td>Er moet bepaald worden of we deze opnemen bij het opbouwen van 'lastVersion', 'thisVersion' en 'prevVersion'.<br><br>
                Een andere mogelijkheid is de folder 'cim' vast op te nemen in de configuratie property 'nl_organisationPublishURL' en binnen VNG-R voor deze property de volgende waarden toe te staan en te definiëren:
                <ul>
                    <li>zd (Zaken en Documenten)</li>
                    <li>bk (Basis en Kerngegevens)</li>
                    <li>dv (Dienstverlening)</li>
                    <li>rd (Ruimtelijk domein)</li>
                    <li>sd (Sociaal domein)</li>
                    <li>bv (Bedrijfsvoering)</li>
                </ul>
                Dat betekent wel dat de folderstructuur van de 'publicatie' GitHub repository ook moet worden aangepast.<br><br>Property kan ook een waarde hebben als <code>zd/cim</code>.<br><br>Deze property kan lokaal 
                overruled worden maar ben daar terughoudend mee. Bij lokaal definiëren van deze property is de werking van de links in het document nl. niet te garanderen aangezien die zou kunnen afwijken van de afgesproken structuur in de publishing repository..
            </td>
        </tr>
        <tr>
            <td><a href="https://github.com/Logius-standaarden/respec/wiki/publishDate">publishDate</a></td>
            <td>Datum in het formaat YYYY-MM-DD</td>
            <td>Lokaal</td>
            <td>
            </td><td>Publicatiedatum van de huidige versie.<br><br>
                Kan evt. worden gebruikt in de property 'thisVersion'.</td>
            <td>Heeft op dit moment geen functie aangezien deze property niet wordt gebruikt in de property 'thisVersion'.</td>
        </tr>
        <tr>
            <td><a href="https://github.com/Logius-standaarden/respec/wiki/publishVersion">publishVersion</a></td>
            <td>SemVer notatie</td>
            <td>Lokaal</td>
            <td>
            </td><td>Versienummer van de huidige versie in SemVer notatie (https://semver.org/lang/nl/).<br><br>
                Wordt gebruikt in de property 'thisVersion'.</td>
            <td>
        </td></tr>
        <tr>
            <td><a href="https://github.com/Logius-standaarden/respec/wiki/shortName">shortName</a></td>
            <td>String</td>
            <td>Lokaal</td>
            <td>
            </td><td>Korte naam (bijv. een mnemonic) van het Respec document.<br><br>
                Wordt gebruikt in de properties 'lastVersion', 'thisVersion' en 'prevVersion'.</td>
            <td>
        </td></tr>
        <tr>
            <td><a href="https://github.com/Logius-standaarden/respec/wiki/sotdText">sotdText</a></td>
            <td>Array van properties per taalcode.</td>
            <td>Globaal en lokaal</td>
            <td>
            </td><td>Bevat voor een aantal 'specStatus'sen en talen de te gebruiken codes en de daarbij horende volledige tekst.</td>
            <td>Bij VNG-R zullen we moeten bepalen welke teksten er bij welke status gegenereerd moeten worden.<br><br>Kan lokaal overruled worden.</td>
        </tr>
        <tr>
            <td><a href="https://github.com/Logius-standaarden/respec/wiki/specStatus">specStatus</a></td>
            <td>enumeration</td>
            <td>Lokaal</td>
            <td>
            </td><td>Definieert de status van het Respec document. De te gebruiken statussen zijn gedefinieerd in de globale configuratie property 'localizationStrings'. Op dit moment zijn dat:
                <ul>
                    <li><b>cv</b>: Consultatieversie</li>
                            <li><b>vv</b>: Versie ter vaststelling</li>
        				<li><b>ig</b>: In Gebruik versie</li>
        				<li><b>io</b>: In Ontwikkeling versie"</li>
                </ul><br><br>
                Wordt gebruikt om de subtitel en het vertikale label linksboven te genereren. Bepaald ook de kleur van dat label. Dit dient in de lokale configuratie gedefinieerd te worden.<br><br>
                De kleuren voor de VNG-R statussen kunnen worden gedefinieerd in de globale optie 'labelColor'.<br><br>
                Kan ook worden gebruikt in de properties 'latestVersion', 'thisVersion' en 'prevVersion'.</td>
            <td>
        </td></tr>
        <tr>
            <td><a href="https://github.com/Logius-standaarden/respec/wiki/specType">spectype</a></td>
            <td>enumeration</td>
            <td>Lokaal</td>
            <td>
            </td><td>Definieert het type van het Respec document. De te gebruiken types zijn gedefinieerd in de globale configuratie property 'localizationStrings'. Op dit moment zijn dat:
                <ul>
                    <li><b>im</b>: Informatiemodel</li>
                    <li><b>hl</b>: Handleiding</li>
                    <li><b>pr</b>: Praktijkrichtlijn</li>
                </ul><br><br>
                Wordt gebruikt om de subtitel en het vertikale label linksboven te genereren. In het template heeft dit de waarde 'IM' aangezien we bij VNG-R Respec veelal zullen gebruiken om Informatiemodellen mee te publiceren.<br><br>
                Kan evt. ook worden gebruikt in de properties 'latestVersion', 'thisVersion' en 'prevVersion'.</td>
            <td>
        </td></tr>
        <tr>
            <td><a href="https://github.com/w3c/respec/wiki/subtitle">subtitle</a></td>
            <td>String</td>
            <td>Lokaal</td>
            <td>n.v.t.</td>
            <td>Bevat een string die als subtitel van de titel van het document dient. Deze subtitel wordt geplaatst boven de gegenereerde 2e subtitel waarin de organisatienaam, documenttype, specStatus en versiedatum worden gebruikt.<br><br>
                Dit is een optionele configuratie property.</td>
            <td>
        </td></tr>
        <tr>
            <td><a href="https://github.com/w3c/respec/wiki/testSuiteURI">testSuiteURI</a></td>
            <td>URL</td>
            <td>Lokaal</td>
            <td>n.v.t.</td>
            <td>Genereert een sectie in de header van het Respec document met als titel 'Test suite' en als inhoud een link naar een testsuite. Wellicht te gebruiken voor het API Testplatform maar alleen als we Respec ook gaan gebruiken voor de API's.</td>
            <td>Deze sectie wordt niet gegenereerd als deze property niet aanwezig is.</td>
        </tr>
        <tr>
            <td><a href="https://github.com/Logius-standaarden/respec/wiki/thisVersion">thisVersion</a></td>
               <td>Combinatie van strings en configuration propertynamen.</td>
            <td>Globaal en lokaal</td>
            <td>Samenvoeging van achtereenvolgens <code>nl_organisationPublishURL</code>, <code>pubDomain</code>, "/", <code>shortName</code>, "/" en <code>publishVersion</code>.</td>
            <td>Wordt opgebouwd m.b.v. andere gedefinieerde configuration properties en '/' tekens. Daarin voorkomende hoofdletters worden omgezet naar kleine letters.</td>
            <td>Indien deze configuration property of een van de properties waaruit het bestaat niet worden verstrekt dan wordt de gerelateerde rubriek in het Respec document 
                ook niet aangemaakt.<br><br>Deze property kan lokaal overruled worden maar ben daar terughoudend mee. Bij lokaal definiëren van deze property is de werking 
                van de links in het document nl. niet te garanderen aangezien die zou kunnen afwijken van de afgesproken structuur in de publishing repository.</td>
        </tr>
        <tr>
            <td>title</td>
            <td>
            </td><td>Lokaal</td>
            <td>
            </td><td>De titel van het Respec document.</td>
            <td>
        </td></tr>
        <tr>
            <td><a href="https://github.com/Logius-standaarden/respec/wiki/useLabel">useLabel</a></td>
            <td>boolean</td>
            <td>Globaal en lokaal</td>
            <td>true</td>
            <td>Bepaald of het verticale label aan de linker bovenzijde van de inhoudsopgave gegenereerd moet worden.<br><br>
                Deze property kan lokaal overruled worden.</td>
            <td>
        </td></tr>
        <tr>
            <td><a href="https://github.com/Logius-standaarden/respec/wiki/useLogo">useLogo</a></td>
            <td>boolean</td>
            <td>Globaal en lokaal</td>
            <td>true</td>
            <td>Bepaald of het VNG-Realisatie logo in de rechter bovenzijde van het document geplaatst moet worden.<br><br>
                Deze property kan lokaal overruled worden.</td>
            <td>
        </td></tr>
        
        <tr>
            <td><a href="https://github.com/w3c/respec/wiki/edDraftURI">edDraftURI</a></td>
            <td>URL</td>
            <td>Globaal en lokaal</td>
            <td>
            </td><td>Beschrijft de url waar de draft van het Respec document kan worden bekeken (de laatste werkversie). </td>
            <td>Deze property is niet gespecificeerd in de organization configuration wat betekent dat bij het label 'Laatste werkversie' wordt verwezen naar de 
                GitHub pages url van de repository waarin het Respec document wordt beheerd.<br><br>
                Deze property mag lokaal overruled worden.<br><br>Indien deze property lokaal een lege waarde krijgt wordt 'Laatste werkversie' niet getoond. 
                Het is echter nuttig om in alle gevallen een link naar de laatste werkversie te plaatsen en we bevelen dat dan ook aan.<br><br>De laatste 
                werkversie is overigens wat anders dan de laatste gepubliceerde versie (property 'latestVersion').</td>
        </tr>
    </tbody>
</table></section></section>
  <script>
    let content = "";

    const getClass = function(key) {
      if (respecConfig.content[key]!==""){return ` class="${respecConfig.content[key]}"`}
    }

    for (let contentKey in respecConfig.content) {
      content += `<section data-include-format="markdown" data-include="${contentKey}.md" ${getClass(contentKey)||""}></section>`
    }

    document.getElementById("probl").insertAdjacentHTML('afterend', content);
  </script>
  <section id="conformance"><h2 id="x4-conformiteit"><bdi class="secno">4. </bdi>Conformiteit</h2><p>Naast onderdelen die als niet normatief gemarkeerd zijn, zijn ook alle diagrammen, voorbeelden, en noten in dit document niet normatief. Verder is alles in dit document normatief.</p></section>
  <section id="tof"></section>
  <section id="index" class="appendix"><h2 id="a-index"><bdi class="secno">A. </bdi>Index</h2><section id="index-defined-here">
    <h3 id="a-1-begrippen-gedefinieerd-door-deze-specificatie"><bdi class="secno">A.1 </bdi>Begrippen gedefinieerd door deze specificatie</h3>
    <ul class="index">
    
  </ul>
  </section><section id="index-defined-elsewhere">
    <h3 id="a-2-begrippen-gedefinieerd-door-verwijzing"><bdi class="secno">A.2 </bdi>Begrippen gedefinieerd door verwijzing</h3>
    <ul class="index">
    
  </ul>
  </section></section>



<section id="references" class="appendix"><h2 id="b-referenties"><bdi class="secno">B. </bdi>Referenties</h2><section id="normatieve-referenties">
    <h3 id="b-1-normatieve-referenties"><bdi class="secno">B.1 </bdi>Normatieve referenties</h3>
    <dl class="bibliography"><dt id="bib-domain-driven-design">[domain-driven-design]</dt><dd>
      <em class="respec-offending-element">Reference not found.</em>
    </dd><dt id="bib-domain-driven-design#the-blue-book">[domain-driven-design#the-blue-book]</dt><dd>
      <em class="respec-offending-element">Reference not found.</em>
    </dd></dl>
  </section></section><p role="navigation" id="back-to-top">
    <a href="#title"><abbr title="Back to Top">↑</abbr></a>
  </p><script id="respec-dfn-panel">(() => {
// @ts-check
if (document.respec) {
  document.respec.ready.then(setupPanel);
} else {
  setupPanel();
}

function setupPanel() {
  const listener = panelListener();
  document.body.addEventListener("keydown", listener);
  document.body.addEventListener("click", listener);
}

function panelListener() {
  /** @type {HTMLElement} */
  let panel = null;
  return event => {
    const { target, type } = event;

    if (!(target instanceof HTMLElement)) return;

    // For keys, we only care about Enter key to activate the panel
    // otherwise it's activated via a click.
    if (type === "keydown" && event.key !== "Enter") return;

    const action = deriveAction(event);

    switch (action) {
      case "show": {
        hidePanel(panel);
        /** @type {HTMLElement} */
        const dfn = target.closest("dfn, .index-term");
        panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
        const coords = deriveCoordinates(event);
        displayPanel(dfn, panel, coords);
        break;
      }
      case "dock": {
        panel.style.left = null;
        panel.style.top = null;
        panel.classList.add("docked");
        break;
      }
      case "hide": {
        hidePanel(panel);
        panel = null;
        break;
      }
    }
  };
}

/**
 * @param {MouseEvent|KeyboardEvent} event
 */
function deriveCoordinates(event) {
  const target = /** @type HTMLElement */ (event.target);

  // We prevent synthetic AT clicks from putting
  // the dialog in a weird place. The AT events sometimes
  // lack coordinates, so they have clientX/Y = 0
  const rect = target.getBoundingClientRect();
  if (
    event instanceof MouseEvent &&
    event.clientX >= rect.left &&
    event.clientY >= rect.top
  ) {
    // The event probably happened inside the bounding rect...
    return { x: event.clientX, y: event.clientY };
  }

  // Offset to the middle of the element
  const x = rect.x + rect.width / 2;
  // Placed at the bottom of the element
  const y = rect.y + rect.height;
  return { x, y };
}

/**
 * @param {Event} event
 */
function deriveAction(event) {
  const target = /** @type {HTMLElement} */ (event.target);
  const hitALink = !!target.closest("a");
  if (target.closest("dfn:not([data-cite]), .index-term")) {
    return hitALink ? "none" : "show";
  }
  if (target.closest(".dfn-panel")) {
    if (hitALink) {
      return target.classList.contains("self-link") ? "hide" : "dock";
    }
    const panel = target.closest(".dfn-panel");
    return panel.classList.contains("docked") ? "hide" : "none";
  }
  if (document.querySelector(".dfn-panel:not([hidden])")) {
    return "hide";
  }
  return "none";
}

/**
 * @param {HTMLElement} dfn
 * @param {HTMLElement} panel
 * @param {{ x: number, y: number }} clickPosition
 */
function displayPanel(dfn, panel, { x, y }) {
  panel.hidden = false;
  // distance (px) between edge of panel and the pointing triangle (caret)
  const MARGIN = 20;

  const dfnRects = dfn.getClientRects();
  // Find the `top` offset when the `dfn` can be spread across multiple lines
  let closestTop = 0;
  let minDiff = Infinity;
  for (const rect of dfnRects) {
    const { top, bottom } = rect;
    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
    if (diffFromClickY < minDiff) {
      minDiff = diffFromClickY;
      closestTop = top;
    }
  }

  const top = window.scrollY + closestTop + dfnRects[0].height;
  const left = x - MARGIN;
  panel.style.left = `${left}px`;
  panel.style.top = `${top}px`;

  // Find if the panel is flowing out of the window
  const panelRect = panel.getBoundingClientRect();
  const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
  if (panelRect.right > SCREEN_WIDTH) {
    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
    const newCaretOffset = left - newLeft;
    panel.style.left = `${newLeft}px`;
    /** @type {HTMLElement} */
    const caret = panel.querySelector(".caret");
    caret.style.left = `${newCaretOffset}px`;
  }

  // As it's a dialog, we trap focus.
  // TODO: when <dialog> becomes a implemented, we should really
  // use that.
  trapFocus(panel, dfn);
}

/**
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function trapFocus(panel, dfn) {
  /** @type NodeListOf<HTMLAnchorElement> elements */
  const anchors = panel.querySelectorAll("a[href]");
  // No need to trap focus
  if (!anchors.length) return;

  // Move focus to first anchor element
  const first = anchors.item(0);
  first.focus();

  const trapListener = createTrapListener(anchors, panel, dfn);
  panel.addEventListener("keydown", trapListener);

  // Hiding the panel releases the trap
  const mo = new MutationObserver(records => {
    const [record] = records;
    const target = /** @type HTMLElement */ (record.target);
    if (target.hidden) {
      panel.removeEventListener("keydown", trapListener);
      mo.disconnect();
    }
  });
  mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
}

/**
 *
 * @param {NodeListOf<HTMLAnchorElement>} anchors
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function createTrapListener(anchors, panel, dfn) {
  const lastIndex = anchors.length - 1;
  let currentIndex = 0;
  return event => {
    switch (event.key) {
      // Hitting "Tab" traps us in a nice loop around elements.
      case "Tab": {
        event.preventDefault();
        currentIndex += event.shiftKey ? -1 : +1;
        if (currentIndex < 0) {
          currentIndex = lastIndex;
        } else if (currentIndex > lastIndex) {
          currentIndex = 0;
        }
        anchors.item(currentIndex).focus();
        break;
      }

      // Hitting "Enter" on an anchor releases the trap.
      case "Enter":
        hidePanel(panel);
        break;

      // Hitting "Escape" returns focus to dfn.
      case "Escape":
        hidePanel(panel);
        dfn.focus();
        return;
    }
  };
}

/** @param {HTMLElement} panel */
function hidePanel(panel) {
  if (!panel) return;
  panel.hidden = true;
  panel.classList.remove("docked");
}
})()</script><script src="https://gitdocumentatie.logius.nl/publicatie/respec/fixup.js"></script></body></html>